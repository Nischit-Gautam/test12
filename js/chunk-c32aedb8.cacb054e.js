(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c32aedb8"],{"753c":function(t,s,i){},"8dc3":function(t,s,i){"use strict";i.r(s);var e=function(){var t=this,s=t._self._c;return t.modal?s("ModalContainer",t._b({staticClass:"bookmark-form",attrs:{modal:t.modal},on:{"update:modal":function(s){t.modal=s}}},"ModalContainer",{modalData:t.modalData},!1),[s("template",{slot:"body"},[t.isLoading?s("div",{staticClass:"d-flex align-items-center justify-content-center py-3",staticStyle:{width:"100%"}},[s("TmfSpinner")],1):s("div",{key:t.componentKey,staticClass:"email-wrappers pt-2"},[t.allAssociateLinks.length?s("ul",[t._l(t.allAssociateLinks,(function(i,e){return[s("li",{key:e,staticClass:"app-card d-flex flex-column",class:[void 0!==i.result?"Safe"===i.result?"safe":"not-safe":""]},[s("div",{staticClass:"d-flex align-items-center"},[s("div",{staticClass:"image-wrapper mr-2",staticStyle:{overflow:"visible !important"}},[s("span",{staticStyle:{position:"relative"}},[s("img",{attrs:{src:"https://www.google.com/s2/favicons?domain="+i.path}}),void 0!==i.result&&null!==i.result?s("span",{staticStyle:{position:"absolute",top:"-5px !important",right:"-5px","background-color":"white !important","border-radius":"10px !important"},domProps:{innerHTML:t._s("Safe"===i.result?t.$internalIcons.userShieldSuccess:t.$internalIcons.userShieldUnsuccess)}}):t._e()])]),s("div",{staticClass:"flex-grow-1 mr-2 email-link-title"},[t._v(" "+t._s(i.title)+" ")]),s("div",{staticClass:"d-flex align-items-center"},[s("button",{directives:[{name:"tmf-tooltip",rawName:"v-tmf-tooltip",value:{content:"Check Safe Links"},expression:"{\n                    content: 'Check Safe Links'\n                  }"}],staticClass:"btn-control sm icon light sq",on:{click:function(s){return t.checkSafeLinksModal(e)}}},[!0===i.isSafeLinkLoading?s("div",{staticClass:"loader"}):s("span",{domProps:{innerHTML:t._s(t.$internalIcons.userShield)}})]),s("button",{directives:[{name:"tmf-tooltip",rawName:"v-tmf-tooltip",value:{content:"Copy Link"},expression:"{\n                    content: 'Copy Link'\n                  }"}],staticClass:"btn-control sm icon light sq",on:{click:function(s){return t.copyLinkModal(i)}}},[s("span",{domProps:{innerHTML:t._s(t.$internalIcons.copy)}})])])]),s("a",{staticClass:"email-link",attrs:{href:i.path,target:"_blank"}},[t._v(" "+t._s(i.path)+" ")])])]}))],2):s("div",[t._v("No Associate Links.")])])])],2):t._e()},a=[];function n(){return{modal:!1,isLoading:!1,formErrors:{},componentKey:0,allAssociateLinks:[]}}var o={data:()=>n(),mounted(){this.$bus.$on("open-show-links-modal",t=>{this.initilize(t)}),this.$bus.$on("close-show-links-form",()=>{this.modal=!1})},methods:{async initilize(t){Object.assign(this.$data,n()),this.isLoading=!0,this.modal=!0;try{await this.$axios.getWithParams("Bookmark/GetAllLinksFromUrl/",t).then(t=>{this.allAssociateLinks=t.data})}finally{this.isLoading=!1}},async checkSafeLinksModal(t){this.allAssociateLinks[t].isSafeLinkLoading=!0,this.componentKey++;try{var s=await this.$axios.post("Bookmark/CheckSafeLinks",this.allAssociateLinks[t]);200===s.status&&(this.allAssociateLinks[t]=s.data,this.$bus.$emit("open-toaster",`Link - ${s.data.title} is ${s.data.result}`,"Safe"===s.data.result?"success":"error"))}catch(i){this.$bus.$emit("open-toaster",""+i.response,"error")}finally{this.allAssociateLinks[t].isSafeLinkLoading=!1,this.componentKey++}},copyLinkModal(t){const s=document.createElement("textarea");s.value=t.path,document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s),this.$bus.$emit("open-toaster","Link copied")}},computed:{modalData(){return{title:"Show Related Links",icon:"link",hideButton:!0}}},beforeDestroy(){this.$bus.$off("open-show-links-modal"),this.$bus.$off("close-show-links-form")}},l=o,c=(i("e914"),i("2877")),r=Object(c["a"])(l,e,a,!1,null,null,null);s["default"]=r.exports},e914:function(t,s,i){"use strict";i("753c")}}]);