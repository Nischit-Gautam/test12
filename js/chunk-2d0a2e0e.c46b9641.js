(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a2e0e"],{"0091":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"tmf-form-element tmf-input",class:[e.isLoading?"tmf-input__with-loader":"",e.hasInputAppend?"tmf-input__with-append":""]},[t("InputWrapper",{attrs:{error:e.$helper.getInputError(e.mutableFormErrors,e.formAttributes.name)}},[e.formAttributes.label?t("label",{attrs:{for:e.formAttributes.name}},[e._v(e._s(e.formAttributes.label))]):e._e(),e.hasInputPrepend?t("div",{staticClass:"tmf-input__prepend"},[e._t("prepend")],2):e._e(),t("input",e._b({ref:e.focus,staticClass:"tmf-form-element__input-element",on:{input:e.inputHandler,change:function(t){return e.$emit("change",t.target.value)},keypress:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.$emit("keypressEnterPrevent",t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("keypressEnter",t)}]}},"input",{...e.filteredAttributes,...e.inputValueBinder},!1)),e.isLoading?t("div",{staticClass:"tmf-input__with-loader__loader tmf-input__append"},[t("TmfSpinner")],1):e._e(),e.hasInputAppend&&!e.isLoading?t("div",{staticClass:"tmf-input__append"},[e._t("append")],2):e._e()])],1)},n=[],s={props:{formAttributes:{type:Object,required:!0},value:{type:[String,File,Number],required:!1,default:""},formErrors:{type:Object,required:!1,default:()=>({})},isLoading:{type:Boolean,required:!1,default:!1},focus:{type:String,required:!1,default:null}},data(){return{mutableFormErrors:{...this.formErrors}}},computed:{isFileUpload(){var e;return"file"===(null===(e=this.formAttributes)||void 0===e?void 0:e.type)},inputValueBinder(){return this.isFileUpload?{}:{value:this.value}},hasInputAppend(){return!!this.$slots["append"]},hasInputPrepend(){return!!this.$slots["prepend"]},filteredAttributes(){let e=this.formAttributes;return null!==e&&void 0!==e&&e.disableName&&delete e.name,e}},mounted(){if(this.hasInputPrepend){let e=document.getElementsByClassName("tmf-input__prepend");e.forEach(e=>{e.nextSibling.style.paddingLeft=e.getBoundingClientRect().width+8+"px"})}this.$nextTick(()=>{var e;this.focus&&(null===(e=this.$refs[this.focus])||void 0===e||e.focus())})},methods:{inputHandler(e){this.$emit("input",e.target.value),this.isFileUpload?this.uploadFileHandler(e):this.$emit("update:value",e.target.value)},uploadFileHandler(e){var t,r,i;const n=(null===(t=this.formAttributes)||void 0===t?void 0:t.size)||20971520;var s,u;(null===(r=e.target.files[0])||void 0===r?void 0:r.type)!==(null===(i=this.formAttributes)||void 0===i?void 0:i.acceptType)?(this.$refs[null===(s=this.formAttributes)||void 0===s?void 0:s.ref].value=null,this.mutableFormErrors={[this.formAttributes.name]:["Invalid file format"]},this.$bus.$emit("open-toaster","Invalid file format","error")):e.target.files[0].size<n?this.$emit("update:value",e.target.files[0]):(this.$refs[null===(u=this.formAttributes)||void 0===u?void 0:u.ref].value=null,this.mutableFormErrors[this.formAttributes.name]=["unable to upload file larger than 20MB"],this.$bus.$emit("open-toaster","unable to upload file larger than 20MB","error"))}},watch:{formErrors:{immediate:!0,deep:!0,handler(e){this.mutableFormErrors={...e}}}}},u=s,l=r("2877"),a=Object(l["a"])(u,i,n,!1,null,null,null);t["default"]=a.exports}}]);