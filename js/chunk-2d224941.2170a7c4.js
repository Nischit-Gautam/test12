(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d224941"],{e176:function(t,o,e){"use strict";e.r(o);var n=function(){var t=this,o=t._self._c;return o("button",{directives:[{name:"tmf-tooltip",rawName:"v-tmf-tooltip",value:{content:"Import Bookmarks"},expression:"{\n    content: 'Import Bookmarks'\n  }"}],staticClass:"btn-control icon sq md ml-2 secondary",on:{click:t.importBookmarks}},[t.isLoading?o("div",{staticClass:"loader"}):o("span",{domProps:{innerHTML:t._s(t.$internalIcons.importFilled)}})])},i=[],l=(e("14d9"),e("13d5"),e("2f62")),r={data(){return{isLoading:!1}},computed:{...Object(l["b"])(["extensionId","collections"])},methods:{async importBookmarks(){if(this.isLoading=!0,!this.extensionId)return;window.chrome.bookmarks.getTree((async function(t){await o(t)}));let t=this;async function o(o){function e(t){return t.reduce((t,o)=>{var n;let i={};if(null!==o&&void 0!==o&&o.url)return t;var l,r;(i.title=o.title,null!==o&&void 0!==o&&null!==(n=o.children)&&void 0!==n&&n.length)&&(i.urls=o.children.reduce((t,o)=>(null!==o&&void 0!==o&&o.url&&t.push(o.url),t),[]),null!==i&&void 0!==i&&null!==(l=i.urls)&&void 0!==l&&l.length||delete i.urls,i.children=e(o.children),null!==i&&void 0!==i&&null!==(r=i.children)&&void 0!==r&&r.length||delete i.children);return t.push(i),t},[])}try{var n;let i=await t.$axios.post("/bookmark/import",e(o)),l=null===(n=t.collections)||void 0===n?void 0:n.map(t=>(t.id===i.data.id&&(t=i.data),t));t.$store.commit("SET_COLLECTION",l),t.$bus.$emit("open-toaster","Bookmark imported Successfully.","success")}catch(i){i.status?t.$bus.$emit("open-toaster","Bookmark imported Failed. Please set a default collection on settings.","error"):t.$bus.$emit("open-toaster","Bookmark imported Failed.","error")}finally{t.isLoading=!1}}}}},s=r,a=e("2877"),d=Object(a["a"])(s,n,i,!1,null,null,null);o["default"]=d.exports}}]);