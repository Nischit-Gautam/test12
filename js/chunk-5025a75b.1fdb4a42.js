(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5025a75b"],{"6ba4":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return t.modal?e("div",{staticClass:"list-add-tag-form d-flex flex-column",on:{dblclick:function(t){return t.stopPropagation()}}},[t.isAddTagLoading?e("div",[t._m(0)]):t._e(),t.isAddTagLoading?t._e():e("div",{staticClass:"pb-2 d-flex align-items-center justify-content-between"},[e("strong",[t._v("Add Tag")]),e("div",{staticClass:"actions d-flex align-items-center"},[e("button",{staticClass:"btn-control md primary",attrs:{disabled:t.buttonIsLoading},on:{click:t.addTags}},[t.buttonIsLoading?e("div",{staticClass:"loader"}):t._e(),e("span",[t._v("Save")])]),e("button",{staticClass:"btn-control md sq icon closeTags",attrs:{disabled:t.buttonIsLoading},on:{click:t.removeBookmark}},[e("span",{staticStyle:{transform:"rotate(45deg)"},domProps:{innerHTML:t._s(t.$internalIcons.plusBold)}})])])]),t.isAddTagLoading?t._e():e("MultiSelectTags",{staticClass:"mb-0",attrs:{label:"",name:"tag",trackName:"tagID",multiple:"",filter:"isDeleted",multiselectTag:"",maxLength:20},model:{value:t.selectedTags,callback:function(e){t.selectedTags=e},expression:"selectedTags"}})],1):t._e()},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex flex-column"},[e("div",{staticClass:"d-flex align-items-center justify-content-between mb-2"},[e("div",{staticClass:"skeletion-loader mr-3",staticStyle:{width:"40%",height:"10px"}}),e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"skeletion-loader mr-2",staticStyle:{width:"50px",height:"20px"}}),e("div",{staticClass:"skeletion-loader",staticStyle:{width:"20px",height:"20px"}})])]),e("div",{staticClass:"skeletion-loader mb-2",staticStyle:{width:"100%",height:"30px"}}),e("div",{staticClass:"d-flex"},[e("div",{staticClass:"skeletion-loader mr-2",staticStyle:{width:"60px",height:"15px"}}),e("div",{staticClass:"skeletion-loader mr-2",staticStyle:{width:"60px",height:"15px"}})])])}];s("14d9");function o(){return{bookmark:{},tags:[],selectedTags:[],isAddTagLoading:!1,modal:!1,index:null,buttonIsLoading:!1,storeInfo:{}}}var n={data:()=>o(),components:{MultiSelectTags:()=>Promise.all([s.e("vendors"),s.e("chunk-62345f63")]).then(s.bind(null,"e916"))},methods:{async initialize(t){var e;Object.assign(this.$data,o()),this.modal=!0,this.bookmark=t.bookmark,this.index=t.index,this.selectedTags=[...null!==(e=this.bookmark.tags)&&void 0!==e?e:[]],this.storeInfo=t.storeInfo,await this.getTags()},async getTags(){try{this.isAddTagLoading=!0,this.tags=await this.$store.dispatch("getTags")}finally{this.isAddTagLoading=!1}},removeBookmark(){this.modal=!1},async addTags(){try{var t,e;let s=[];this.selectedTags.forEach(t=>{s.push(t.tagID)}),this.buttonIsLoading=!0,await this.$axios.post("/tag/AddToBookmark/"+this.bookmark.id,JSON.stringify(s));let a={...this.bookmark};a["tags"]=[...this.selectedTags],this.$emit("stopComponentLoader",!0),this.$helper.setState("edit",null===(t=this.storeInfo)||void 0===t?void 0:t.mutation,null===(e=this.storeInfo)||void 0===e?void 0:e.getter,a),this.$bus.$emit("open-toaster","Tags updated successfully"),this.modal=!1}catch(s){this.$bus.$emit("open-toaster","Error updating tags")}finally{this.$emit("resetComponent"),this.buttonIsLoading=!1}},handleKeyEvent(t){27===t.keyCode&&this.modal&&document.querySelector(".closeTags").click()}},mounted(){document.addEventListener("keyup",this.handleKeyEvent)},beforeDestroy(){document.removeEventListener("keyup",this.handleKeyEvent)}},d=n,l=(s("ddc5"),s("2877")),c=Object(l["a"])(d,a,i,!1,null,null,null);e["default"]=c.exports},ddc5:function(t,e,s){"use strict";s("ef57")},ef57:function(t,e,s){}}]);