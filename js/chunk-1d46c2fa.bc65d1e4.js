(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d46c2fa","chunk-2d0b349c","chunk-2d0b349c","chunk-2d0b349c","chunk-2d0b349c","chunk-2d0b349c","chunk-2d0b349c","chunk-2d0b349c","chunk-2d0b349c","chunk-2d0b349c","chunk-2d0b349c","chunk-2d0b349c","chunk-2d0b349c"],{2877:function(e,t,r){"use strict";function s(e,t,r,s,i,a,n,o){var c,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=r,l._compiled=!0),s&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),n?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(n)},l._ssrRegister=c):i&&(c=o?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var _=l.render;l.render=function(e,t){return c.call(t),_(e,t)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:e,options:l}}r.d(t,"a",(function(){return s}))},"8ef4":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"partner-register"},[t("div",{staticClass:"partner-register__wrapper"},[t("form",{staticClass:"container partner-register__container scroll-vertical scroll-overlay",on:{submit:function(t){return t.preventDefault(),e.registerPartner.apply(null,arguments)}}},[t("div",{staticClass:"partner-register__brand d-flex align-items-center"},[t("div",{staticClass:"logo-container d-flex align-items-center"},[t("img",{attrs:{src:e.$logo,alt:"",height:"40px",width:"40px"}}),t("div",{staticClass:"ml-1 name"},[e._v(" Tag My Favourite ")])]),t("div",{staticClass:"partner-register__form-title flex-grow-1"},[e._v(" Partner Registration Form ")])]),t("div",{staticClass:"partner-register__section"},[t("div",{staticClass:"partner-register__section__header"},[e._v("Create Firm")]),t("div",{staticClass:"partner-register__section__message"},[e._v(" Fill the form below to set your organzation details. ")]),t("div",{staticClass:"partner-register__section__body"},[t("TmfCheckbox",{staticClass:"partner-register__section__body__item mb-3",attrs:{formAttributes:{label:"Register new Firm",name:"hasfirmRegistered"},value:e.registerNewFirm},on:{"update:value":function(t){e.registerNewFirm=t}}}),e.registerNewFirm?e._e():t("div",{staticClass:"partner-register__section__body__item"},[t("TmfInput",{staticClass:"flex-grow-1",attrs:{formAttributes:{type:"text",label:"Firm Email *",maxlength:"60",name:"Organization.Email",required:!0,autocomplete:"off",autofill:"off"},formErrors:e.formErrors,value:e.organization.email},on:{"update:value":function(t){return e.$set(e.organization,"email",t)}}})],1),e.registerNewFirm?[t("div",{staticClass:"partner-register__section__body__item__wrapper"},[t("div",{staticClass:"partner-register__section__body__item"},[t("TmfInput",{staticClass:"flex-grow-1",attrs:{formAttributes:{type:"text",label:"Firm Name *",name:"Organization.Name",required:!0,autocomplete:"off",autofill:"off"},formErrors:e.formErrors,value:e.organization.name},on:{"update:value":function(t){return e.$set(e.organization,"name",t)}}})],1),t("div",{staticClass:"partner-register__section__body__item"},[t("TmfInput",{staticClass:"flex-grow-1",attrs:{formAttributes:{type:"url",label:"Firm Url *",name:"Organization.Website",required:!0,autocomplete:"off",autofill:"off"},formErrors:e.formErrors,value:e.organization.website},on:{"update:value":function(t){return e.$set(e.organization,"website",t)}}})],1)]),t("div",{staticClass:"partner-register__section__body__item__wrapper"},[t("div",{staticClass:"partner-register__section__body__item"},[t("TmfInput",{staticClass:"flex-grow-1",attrs:{formAttributes:{type:"text",label:"Firm Phone *",name:"Organization.Phone",required:!0,autocomplete:"off",autofill:"off"},formErrors:e.formErrors,value:e.organization.phone},on:{"update:value":function(t){return e.$set(e.organization,"phone",t)}}})],1),t("div",{staticClass:"partner-register__section__body__item"},[t("TmfInput",{staticClass:"flex-grow-1",attrs:{formAttributes:{type:"text",label:"Firm Email *",name:"Organization.Email",required:!0,autocomplete:"off",autofill:"off"},formErrors:e.formErrors,value:e.organization.email},on:{"update:value":function(t){return e.$set(e.organization,"email",t)}}})],1)]),t("div",{staticClass:"partner-register__section__body__item__wrapper"},[t("div",{staticClass:"partner-register__section__body__item"},[t("TmfSelect",{staticClass:"flex-grow-1",attrs:{formAttributes:{label:"Country *",selectAttributes:{name:"Country",required:!0},options:[...e.countries],value:"id",key:"name",defaultSelectText:"Select a country"},formErrors:e.formErrors},on:{change:e.setCountry}})],1),t("div",{staticClass:"partner-register__section__body__item"},[t("TmfSelect",{staticClass:"flex-grow-1",attrs:{formAttributes:{label:"State *",selectAttributes:{name:"State",required:!0},options:[...e.states],value:"id",key:"name",defaultSelectText:"Select a State",disabled:!("country"in e.organization&&e.organization.country)},formErrors:e.formErrors},on:{change:e.setState}})],1)]),t("div",{staticClass:"partner-register__section__body__item__wrapper"},[t("div",{staticClass:"partner-register__section__body__item"},[t("TmfSelect",{staticClass:"flex-grow-1",attrs:{formAttributes:{label:"Time Zone *",selectAttributes:{name:"TimeZone",required:!0},options:[...e.timeZones],value:"id",key:"displayName",defaultSelectText:"Select a timezone"},formErrors:e.formErrors},on:{change:e.setTimeZone}})],1),t("div",{staticClass:"partner-register__section__body__item"},[t("TmfInput",{staticClass:"flex-grow-1",attrs:{formAttributes:{type:"text",label:"Address *",name:"Organization.Address",required:!0,autocomplete:"off",autofill:"off"},formErrors:e.formErrors,value:e.organization.address},on:{"update:value":function(t){return e.$set(e.organization,"address",t)}}})],1)])]:e._e()],2)]),t("div",{staticClass:"partner-register__section mt-4"},[t("div",{staticClass:"partner-register__section__header"},[e._v("Register partner")]),t("div",{staticClass:"partner-register__section__message"},[e._v(" Select a partner type to register your organizatin as a partner. ")]),t("div",{staticClass:"partner-register__section__body"},[t("div",{staticClass:"partner-register__section__body__item"},[t("TmfSelect",{staticClass:"flex-grow-1",attrs:{formAttributes:{label:"Partner Type *",selectAttributes:{name:"PartnerType",required:!0},options:[...e.partnerTypes],value:"partnerTypeId",key:"partnerName",defaultSelectText:"Select Partner Type"},formErrors:e.formErrors,isLoading:e.partnerTypeIsLoading},on:{change:e.setPartherType}})],1),e.disablePassowrdFields?t("div",{staticClass:"partner-register__section__body__item__wrapper"},[t("div",{staticClass:"partner-register__section__body__item"},[t("TmfInput",{staticClass:"flex-grow-1",attrs:{formAttributes:{type:"password",label:"Password *",name:"Password",required:!0,autocomplete:"off",autofill:"off"},formErrors:e.formErrors,value:e.partner.password},on:{"update:value":function(t){return e.$set(e.partner,"password",t)}}})],1),t("div",{staticClass:"partner-register__section__body__item"},[t("TmfInput",{staticClass:"flex-grow-1",attrs:{formAttributes:{type:"password",label:"Confirm Password *",name:"ConfirmPassword",required:!0,autocomplete:"off",autofill:"off",disabled:e.disableConfirmPassword},formErrors:e.formErrors},on:{change:e.checkConfirmPassword}})],1)]):e._e()])]),t("div",{staticClass:"partner-register__section mt-5"},[t("div",{staticClass:"partner-register__section__body__item partner-register__section__body__item__liscence flex-row align-items-center"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.isLiscenceAccepted,expression:"isLiscenceAccepted"}],attrs:{type:"checkbox",name:"acceptLiscence"},domProps:{checked:Array.isArray(e.isLiscenceAccepted)?e._i(e.isLiscenceAccepted,null)>-1:e.isLiscenceAccepted},on:{change:function(t){var r=e.isLiscenceAccepted,s=t.target,i=!!s.checked;if(Array.isArray(r)){var a=null,n=e._i(r,a);s.checked?n<0&&(e.isLiscenceAccepted=r.concat([a])):n>-1&&(e.isLiscenceAccepted=r.slice(0,n).concat(r.slice(n+1)))}else e.isLiscenceAccepted=i}}}),t("label",{staticClass:"ml-2",attrs:{for:"acceptLiscence"}},[t("a",{attrs:{href:e.privacyUrl,target:"_blank"}},[e._v("Accept licence agreement")])])]),t("div",{staticClass:"partner-register__section__body__item__button"},[t("button",{staticClass:"btn-control md primary",attrs:{type:"submit",disabled:e.isLoading||!e.isLiscenceAccepted}},[e._v(" Submit "),e.isLoading?t("div",{staticClass:"loader"}):e._e()])])])]),e.isLoading?t("div",{staticClass:"partner-register__is_registering"},[t("div",{staticClass:"partner-register__is_registering__container"},[e.isRegisteresSuccessfully?[t("svg",{staticClass:"checkmark",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52"}},[t("circle",{staticClass:"checkmark__circle",attrs:{cx:"26",cy:"26",r:"25",fill:"none"}}),t("path",{staticClass:"checkmark__check",attrs:{fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"}})]),t("div",{staticClass:"partner-register__is_registering__container__text"},[e._v(" Partner Registered Successfully ")])]:[t("i",{staticClass:"loader"}),t("div",{staticClass:"partner-register__is_registering__container__text"},[e._v(" Registering Partner ")])]],2)]):e._e()])])},i=[],a=r("bc3a"),n=r.n(a),o={data(){return{countries:{},organization:{},partner:{},states:[],timeZones:[],partnerTypes:[],registerNewFirm:!1,apiUrl:"https://tmfdev.azurewebsites.net",privacyUrl:"https://www.tagmyfav.com/privacy-policy",formErrors:{},isLiscenceAccepted:!1,isLoading:!1,isRegisteresSuccessfully:!1,partnerTypeIsLoading:!1}},computed:{disableConfirmPassword(){var e;return!(null!==(e=this.partner.password)&&void 0!==e&&e.length)>0},disablePassowrdFields(){var e;return null===(e=this.partnerTypes)||void 0===e?void 0:e.some(e=>{var t;return e.partnerTypeId==(null===(t=this.partner)||void 0===t?void 0:t.partnerTypeId)&&"Reseller"!==e.partnerName})}},created(){this.$axios.get("/address/countries").then(e=>{this.countries=e.data}),this.$axios.get("/address/timezones").then(e=>{this.timeZones=e.data}),this.partnerTypeIsLoading=!0,n.a.get(this.apiUrl+"/api/partner/getpartnertypes").then(e=>{this.partnerTypes=e.data}).finally(()=>{this.partnerTypeIsLoading=!1})},methods:{async setCountry(e){let t=await this.$axios.get(`/address/${e}/states`);this.organization={...this.organization,country:parseInt(e)},this.states=t.data},setState(e){this.organization={...this.organization,state:parseInt(e)}},setTimeZone(e){this.organization={...this.organization,timeZone:parseInt(e.target.value)}},setPartherType(e){this.partner={...this.partner,partnerTypeId:parseInt(e)}},checkConfirmPassword(e){null!==e&&void 0!==e&&e.length?this.partner.password.startsWith(e)?this.partner.password===e&&(this.partner.password=e,this.formErrors={}):this.formErrors={ConfirmPassword:["Password didn't match"]}:this.formErrors={}},async registerPartner(){this.isLoading=!0;let e={};this.organization.registerNewFirm=this.registerNewFirm,e.organization=this.organization,e.partner=this.partner,await n.a.post(this.apiUrl+"/api/partner",e).then(()=>{this.$emit("open-toaster","Partner register successfully","success")}).catch(e=>{400===e.status&&(this.formErrors=JSON.parse(e.response)["errors"]),this.isLoading=!1})}}},c=o,l=(r("cbfd"),r("2877")),_=Object(l["a"])(c,s,i,!1,null,"385a69f8",null);t["default"]=_.exports},cbfd:function(e,t,r){"use strict";r("ff49")},ff49:function(e,t,r){}}]);