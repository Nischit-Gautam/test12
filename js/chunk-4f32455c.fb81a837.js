(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f32455c"],{2301:function(t,e,a){},"27c3":function(t,e,a){"use strict";a("2301")},"83cb":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"signup-page"},[e("div",{staticClass:"signup-page--wrapper d-flex align-items-center justify-content-center"},[e("div",{staticClass:"signup-form scroll-vertical"},[e("ul",{staticClass:"form-steps d-flex align-items-center"},[e("li",[e("div",{staticClass:"logo-container d-flex justify-content-center align-items-center"},[e("img",{attrs:{src:t.logo,alt:"",height:"40px",width:"40px"}}),t._m(0)])]),t._m(1),t._m(2),t._m(3)]),e("form",{staticClass:"sub-form",on:{submit:function(e){return e.preventDefault(),t.subscriptionFormHandler()}}},[e("p",{staticClass:"form-note"},[t._v(" The Subscription Name and the Plan were created when you completed your purchased on Microsoft Partner Center, and were provided by Microsoft to Tag My Favourite so that we can provision your account. You can record this information for your own records, but if you don't we always have it in our records too! ")]),e("div",{staticClass:"signup-form--wrapper"},[e("h3",{staticClass:"mb-4"},[t._v("Partner Form")]),e("div",{staticClass:"form-input-container"},[e("CInput",{staticClass:"input-control",attrs:{required:"",label:"Email *",type:"email"},model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}}),e("input-wrapper",{attrs:{error:t.$helper.getInputError(t.formErrors,"Plan")}},[e("div",{staticClass:"d-flex flex-column input-control form-group"},[e("label",{attrs:{for:"plan"}},[t._v("Plan *")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.plan,expression:"formData.plan"}],staticClass:"mb-0 form-control",attrs:{name:"plan",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.formData,"plan",e.target.multiple?a:a[0])}}},[e("option",{attrs:{selected:"selected",disabled:""},domProps:{value:{}}},[t._v("--Select a plan--")]),t._l(t.subscriptionPlans,(function(a,r){return[e("option",{key:r,domProps:{value:a}},[t._v(t._s(a.name))])]}))],2)])]),e("CInput",{staticClass:"input-control",attrs:{disabled:"",readonly:"",label:"Quantity",type:"number",value:t.planQuantity}}),e("span"),e("strong",{staticClass:"flex-grow-1 mb-2"},[t._v("Please provide us with your Information:")]),e("span"),e("input-wrapper",{attrs:{error:t.$helper.getInputError(t.formErrors,"Email")}},[e("CInput",{staticClass:"input-control",attrs:{disabled:"",readonly:"",required:"",value:t.formData.email,label:"Email *"}})],1),e("input-wrapper",{attrs:{error:t.$helper.getInputError(t.formErrors,"Title")}},[e("div",{staticClass:"d-flex flex-column input-control form-group"},[e("label",{attrs:{for:"title"}},[t._v("Title *")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.title,expression:"formData.title"}],staticClass:"mb-0 form-control",attrs:{name:"title"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.formData,"title",e.target.multiple?a:a[0])}}},[e("option",{attrs:{selected:"selected",disabled:"",value:""}},[t._v("--Select a Title--")]),e("option",{attrs:{value:"Mr"}},[t._v("Mr.")]),e("option",{attrs:{value:"Ms"}},[t._v("Ms.")])])])]),e("input-wrapper",{attrs:{error:t.$helper.getInputError(t.formErrors,"FirstName")}},[e("CInput",{staticClass:"input-control",attrs:{label:"First Name *",required:""},model:{value:t.formData.firstName,callback:function(e){t.$set(t.formData,"firstName",e)},expression:"formData.firstName"}})],1),e("CInput",{staticClass:"input-control",attrs:{label:"Middle Name"},model:{value:t.formData.middleName,callback:function(e){t.$set(t.formData,"middleName",e)},expression:"formData.middleName"}}),e("input-wrapper",{attrs:{error:t.$helper.getInputError(t.formErrors,"LastName")}},[e("CInput",{staticClass:"input-control",attrs:{label:"Last Name *",required:""},model:{value:t.formData.lastName,callback:function(e){t.$set(t.formData,"lastName",e)},expression:"formData.lastName"}})],1),e("input-wrapper",{attrs:{error:t.$helper.getInputError(t.formErrors,"Phone")}},[e("CInput",{staticClass:"input-control",attrs:{label:"Phone *",required:"",type:"tel"},model:{value:t.formData.phone,callback:function(e){t.$set(t.formData,"phone",e)},expression:"formData.phone"}})],1)],1),t._m(4)])]),e("form",{staticClass:"sub-form",on:{submit:function(e){return e.preventDefault(),t.subscriptionFormHandler()}}},[e("p",{staticClass:"form-note"},[t._v(" Check the create firm checkbox to create an account for your firm and enter the required informations! ")]),e("div",{staticClass:"signup-form--wrapper"},[e("h3",{staticClass:"mb-4"},[t._v("Firm Details")]),e("div",{staticClass:"form-input-container"},[e("input-wrapper",{attrs:{error:t.$helper.getInputError(t.formErrors,"Organization.Name")}},[e("CInput",{staticClass:"input-control",attrs:{label:"Firm Name *",required:""},model:{value:t.firmDetails.name,callback:function(e){t.$set(t.firmDetails,"name",e)},expression:"firmDetails.name"}})],1),e("input-wrapper",{attrs:{error:t.$helper.getInputError(t.formErrors,"Organization.Website")}},[e("CInput",{staticClass:"input-control",attrs:{type:"url",label:"Firm Url *",required:""},model:{value:t.firmDetails.website,callback:function(e){t.$set(t.firmDetails,"website",e)},expression:"firmDetails.website"}})],1),e("input-wrapper",{attrs:{error:t.$helper.getInputError(t.formErrors,"Organization.Phone")}},[e("CInput",{staticClass:"input-control",attrs:{type:"tel",label:"Firm Phone *",required:""},model:{value:t.firmDetails.phone,callback:function(e){t.$set(t.firmDetails,"phone",e)},expression:"firmDetails.phone"}})],1),e("input-wrapper",{attrs:{error:t.$helper.getInputError(t.formErrors,"Organization.Email")}},[e("CInput",{staticClass:"input-control",attrs:{type:"email",label:"Firm Email *",required:""},model:{value:t.firmDetails.email,callback:function(e){t.$set(t.firmDetails,"email",e)},expression:"firmDetails.email"}})],1),e("input-wrapper",{attrs:{error:t.$helper.getInputError(t.formErrors,"Country")}},[e("CSelect",{staticClass:"input-control mb-0",attrs:{label:"Country *",options:t.countries,placeholder:"Select a country",required:""},on:{change:t.getStates}})],1),e("input-wrapper",{attrs:{error:t.$helper.getInputError(t.formErrors,"State")}},[e("CSelect",{staticClass:"input-control mb-0",attrs:{label:"State",options:t.states,placeholder:"Select a State",disabled:!("country"in t.firmDetails&&t.firmDetails.country)},on:{change:t.getTimeZone}})],1),e("input-wrapper",{attrs:{error:t.$helper.getInputError(t.formErrors,"TimeZone")}},[e("CSelect",{staticClass:"input-control mb-0",attrs:{label:"Time Zone *",options:t.timeZone,placeholder:"Select time zone",disabled:!("state"in t.firmDetails),required:""},on:{change:t.setTimeZone}})],1),e("input-wrapper",{attrs:{error:t.$helper.getInputError(t.formErrors,"Organization.Address")}},[e("CInput",{staticClass:"input-control",attrs:{type:"text",label:"Address *",required:""},model:{value:t.firmDetails.address,callback:function(e){t.$set(t.firmDetails,"address",e)},expression:"firmDetails.address"}})],1)],1),e("div",{staticClass:"form-button-container"},[e("button",{staticClass:"btn-control md light",attrs:{type:"button"},on:{click:function(e){return t.nextPrevHandler(-1)}}},[t._v(" Previous ")]),e("button",{staticClass:"btn-control md primary",attrs:{type:"submit"}},[t._v(" Next ")])])])]),e("div",{staticClass:"sub-form"},[e("p",{staticClass:"form-note"},[t._v(" Double check your info and submit..then follow the instructions on our webpage to get everything set up so you can start using our awesome tool to manage and share links! ")]),e("div",{staticClass:"signup-form--wrapper"},[e("h3",{staticClass:"mb-4"},[t._v("Review Details")]),e("div",{staticClass:"form-input-container"},[e("strong",{staticClass:"mb-2"},[t._v("Subscription Details")]),t._v(" "),e("span"),e("div",{staticClass:"form-info"},[e("b",[t._v("Subscription Name :")]),e("span",[t._v(t._s(t.subscriptionName))])]),e("div",{staticClass:"form-info"},[e("b",[t._v("Subscription Plan :")]),e("span",[t._v(t._s(t.subscriptionName))])]),t._m(5),e("span"),e("strong",{staticClass:"mb-2 mt-4"},[t._v("User Details")]),e("span"),e("div",{staticClass:"form-info"},[e("b",[t._v("Name :")]),e("span",[t._v(t._s(t.getUserName))])]),e("div",{staticClass:"form-info"},[e("b",[t._v("Email :")]),e("span",[t._v(t._s(t.formData.email))])]),e("div",{staticClass:"form-info"},[e("b",[t._v("Phone :")]),e("span",[t._v(t._s(t.formData.phone))])]),e("span"),[e("strong",{staticClass:"mb-2 mt-4"},[t._v("Firm Details")]),e("span"),e("div",{staticClass:"form-info"},[e("b",[t._v("firm Name :")]),e("span",[t._v(t._s(t.firmDetails.name))])]),e("div",{staticClass:"form-info"},[e("b",[t._v("Url :")]),e("span",[t._v(t._s(t.firmDetails.website||"N/A"))])]),e("div",{staticClass:"form-info"},[e("b",[t._v("Phone :")]),e("span",[t._v(t._s(t.firmDetails.phone||"N/A"))])]),e("div",{staticClass:"form-info"},[e("b",[t._v("Email :")]),e("span",[t._v(t._s(t.firmDetails.email))])]),e("div",{staticClass:"form-info"},[e("b",[t._v("Country :")]),e("span",[t._v(t._s(t.getName(t.countries,"name","country")))])]),e("div",{staticClass:"form-info"},[e("b",[t._v(" Time zone :")]),e("span",[t._v(t._s(t.getName(t.timeZone,"displayName","timeZone")))])]),e("div",{staticClass:"form-info"},[e("b",[t._v(" State :")]),e("span",[t._v(t._s(t.getName(t.states,"name","state")))])]),e("div",{staticClass:"form-info"},[e("b",[t._v(" Address :")]),e("span",[t._v(t._s(t.firmDetails.address))])])]],2)]),e("div",{staticClass:"d-flex align-items-center mb-2 mt-4"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.isLiscenceAccepted,expression:"isLiscenceAccepted"}],attrs:{type:"checkbox",name:"acceptLiscence"},domProps:{checked:Array.isArray(t.isLiscenceAccepted)?t._i(t.isLiscenceAccepted,null)>-1:t.isLiscenceAccepted},on:{change:function(e){var a=t.isLiscenceAccepted,r=e.target,s=!!r.checked;if(Array.isArray(a)){var i=null,n=t._i(a,i);r.checked?n<0&&(t.isLiscenceAccepted=a.concat([i])):n>-1&&(t.isLiscenceAccepted=a.slice(0,n).concat(a.slice(n+1)))}else t.isLiscenceAccepted=s}}}),e("label",{staticClass:"ml-2",attrs:{for:"acceptLiscence"}},[e("a",{attrs:{href:t.privacyUrl,target:"_blank"}},[t._v("Accept licence agreement")])])]),e("div",{staticClass:"form-button-container"},[e("button",{staticClass:"btn-control md light",on:{click:function(e){return t.nextPrevHandler(-1)}}},[t._v(" Previous ")]),e("button",{staticClass:"btn-control md primary",attrs:{type:"button",disabled:t.isLoading||!t.isLiscenceAccepted},on:{click:t.register}},[t._v(" Submit "),t.isLoading?e("div",{staticClass:"loader"}):t._e()])])])])])])},s=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"ml-1 name"},[t._v(" Tag "),e("br"),t._v(" My "),e("br"),t._v(" Favourite ")])},function(){var t=this,e=t._self._c;return e("li",{staticClass:"form-step form-step--item"},[e("h3",[t._v("1")]),e("p",[t._v("Partner "),e("br"),t._v("Details")])])},function(){var t=this,e=t._self._c;return e("li",{staticClass:"form-step form-step--item"},[e("h3",[t._v("2")]),e("p",[t._v("Create "),e("br"),t._v("Firm")])])},function(){var t=this,e=t._self._c;return e("li",{staticClass:"form-step form-step--item"},[e("h3",[t._v("3")]),e("p",[t._v("Review "),e("br"),t._v("Details")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-button-container"},[e("button",{staticClass:"btn-control md primary",attrs:{type:"submit"}},[t._v(" Next ")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-info"},[e("b",[t._v("Subscription Quantity :")]),e("span",[t._v("1")])])}],i=(a("14d9"),a("c4fe")),n=a.n(i),o={data(){return{logo:n.a,formData:{},isLiscenceAccepted:!1,isLoading:!1,currentTab:0,subscriptionPlans:[],isFirmEnable:!1,firmDetails:{},countries:[],timeZone:[],states:[],formErrors:{},selectedPlan:{},privacyUrl:"https://www.tagmyfav.com/privacy-policy"}},computed:{subscriptionName(){var t;return null===(t=this.formData)||void 0===t||null===(t=t.plan)||void 0===t?void 0:t.name},getUserName(){var t,e;return`${null!==(t=this.formData.title)&&void 0!==t?t:""} ${this.formData.firstName} ${null!==(e=this.formData.middleName)&&void 0!==e?e:""} ${this.formData.lastName}`},planQuantity(){var t;return null===(t=this.formData)||void 0===t||null===(t=t.plan)||void 0===t?void 0:t.minimumLicenceCount}},async created(){try{let t=await this.$axios.get("/Subscription/get-Plans");this.subscriptionPlans=t.data,this.subscriptionPlans.forEach(t=>{"Free Trial"===t.name&&(this.formData={...this.formData,plan:{...t}})}),t=await this.$axios.get("/address/countries"),this.countries=t.data,this.countries.map(t=>{t.value=t.id,t.label=t.name})}catch(t){409===t.status&&(window.opener.REGISTER_USER_EXISTS=!0,this.closePopup())}},mounted(){this.showForm(this.currentTab)},methods:{getName(t=[],e,a){if(!(t.length||e||a||a in this.firmDetails&&this.firmDetails[""+a]))return"";let r=t.filter(t=>t.id==this.firmDetails[""+a]);return r.length?r[0][""+e]:""},async getStates(t){let e=await this.$axios.get(`/address/${t.target.value}/states`);this.firmDetails.country=t.target.value,this.states=e.data,this.states.map(t=>{t.value=t.id,t.label=t.name})},async getTimeZone(t){let e=await this.$axios.get("/address/timezones");this.firmDetails.state=t.target.value,this.timeZone=e.data,this.timeZone.map(t=>{t.value=t.id,t.label=t.displayName})},setTimeZone(t){this.firmDetails.timeZone=t.target.value},subscriptionFormHandler(){this.nextPrevHandler(1)},async register(){try{this.isLoading=!0;let t={};t=this.formData,t.organizationAdmin=this.firmDetails,t.plan=this.plan,t.organization=this.organization,t.partner=this.partner,await this.$axios.post("/partner",t),this.closePopup(),this.$emit("open-toaster","Partner register successfully","success"),this.$router.push("/login")}catch(t){if(400===t.status){this.formErrors=JSON.parse(t.response)["errors"];let e=["Plan","FirstName","LastName","Phone","Title"];this.nextPrevHandler(e.includes(Object.keys(this.formErrors)[0])?-2:-1)}}finally{this.isLoading=!1}},closePopup(){let t=2e3;window.opener.OPENID_CALLBACK_STATUS="success",window.opener.IS_USER_REGISTER=!0,setTimeout(()=>{window.close()},t)},showForm(t){let e=document.getElementsByClassName("sub-form");for(let a=0;a<e.length;a++)e[a].style.display="none";e[t].style.display="block",this.stepsIndicator(t)},stepsIndicator(t){let e=document.getElementsByClassName("form-step");for(let a=0;a<e.length;a++)e[a].className=e[a].className.replace(" active",""),e[a].className=a>=t?e[a].className.replace(" finish",""):e[a].className+=" finish";e[t].className+=" active"},nextPrevHandler(t){let e=document.getElementsByClassName("sub-form");e[this.currentTab].style.display="none",this.currentTab=this.currentTab+t,this.showForm(this.currentTab)}}},l=o,c=(a("27c3"),a("2877")),m=Object(c["a"])(l,r,s,!1,null,null,null);e["default"]=m.exports}}]);