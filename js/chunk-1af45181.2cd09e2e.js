(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1af45181"],{"47ee":function(e,t,l){"use strict";l("5582")},5582:function(e,t,l){},dd87:function(e,t,l){"use strict";l.r(t);var o=function(){var e=this,t=e._self._c;return e.modal?t("ModalContainer",e._b({staticClass:"collection-selector",attrs:{modal:e.modal},on:{"update:modal":function(t){e.modal=t}}},"ModalContainer",{modalData:e.modalData},!1),[t("template",{slot:"body"},[t("div",{staticClass:"collection-selector__search w-100 mb-3"},[t("TmfInput",{staticClass:"m-0 flex-grow-1 w-100 tmf-input__only-input",attrs:{value:e.search,formAttributes:{type:"text",autocomplete:"off",autofill:"off",placeholder:"Search collection",name:"search",disableName:!0},focus:"collectionSelectorSearch"},on:{"update:value":function(t){e.search=t}}},[t("template",{slot:"append"},[t("div",{staticClass:"clear-input"},[e.searchingIcon?t("span",[t("TmfSpinner",{staticClass:"small"})],1):t("span",{staticClass:"rotate-icon-45-deg",staticStyle:{"{'z-index'":"10}"},domProps:{innerHTML:e._s(e.$internalIcons.plusBold)},on:{click:e.clearSearchHandler}})])])],2)],1),Object.keys(e.selectCollectionSelected).length?t("div",{staticClass:"collection-selector__selected"},[t("div",{staticClass:"collection-selector__collections__item__icon",domProps:{innerHTML:e._s(e.selectCollectionSelected.icon||e.$internalIcons.folder)}}),t("div",{staticClass:"collection-selector__collections__item__name"},[e._v(" "+e._s(e.selectCollectionSelected.name)+" ")]),t("span",{staticClass:"rotate-icon-45-deg collection-selector__selected__close",domProps:{innerHTML:e._s(e.$internalIcons.plusBold)},on:{click:function(t){return e.$store.commit("SET_SELECT_COLLECTION_SELECTED",{})}}})]):e._e(),e.teamsCategories.length?t("TmfCollectionSelectorCollectionHeader",{attrs:{title:"Teams Collections",isOpen:e.teamsCategories.length>0}}):e._e(),e.teamsCategories.length?t("TmfCollectionSelectorItems",{staticClass:"collection-selector__teams-collections",style:{display:e.teamsCategories.length>0?"block":"none"},attrs:{collections:[...e.teamsCategories],parentIndex:0,parentCollection:{},hideCollapse:!e.hasTeamsModifyTeamsCollection,onlyParent:e.onlyParent}}):e._e(),t("TmfCollectionSelectorCollectionHeader",{staticClass:"mt-2",attrs:{title:`Personal Collections (${e.filteredCollection.length})`,isOpen:0===e.teamsCategories.length}}),t("TmfCollectionSelectorItems",{style:{display:0===e.teamsCategories.length?"block":"none"},attrs:{collections:[...e.filteredCollection],isLoading:e.isLoading,parentIndex:0,parentCollection:{},onlyParent:e.onlyParent}}),t("div",{staticClass:"d-flex justify-content-end my-3 collection-selector__submit"},[t("button",{staticClass:"btn-control md primary",on:{click:e.selectCollection}},[e._v(" Select ")])])],1)],2):e._e()},i=[],s=l("2f62"),c={props:{selectedCollection:{type:Object,required:!1,default:()=>({})},teamsCategory:{type:Object,required:!1,default:()=>({})},teamsCategories:{type:Array,required:!1,default:()=>[]},disableCollectionFetch:{type:Boolean,required:!1,default:!1},onlyParent:{type:Boolean,required:!1,default:!1},openCollectionSelectorModal:{type:Boolean,required:!1,default:!1},hasTeamsModifyTeamsCollection:{type:Boolean,required:!1,default:!0}},components:{TmfCollectionSelectorItems:()=>l.e("chunk-2d2162a2").then(l.bind(null,"c0fe")),TmfCollectionSelectorCollectionHeader:()=>l.e("chunk-4b3088f0").then(l.bind(null,"f2d6"))},data(){return{modal:!1,isLoading:!1,search:"",searchingIcon:!1}},computed:{...Object(s["b"])(["collections","selectCollectionSelected"]),modalData(){return{title:"Select Collection",icon:"collections",hideButton:!0}},filteredCollection(){var e;return 0===this.collections.length&&this.getCollection(),null===(e=this.collections)||void 0===e?void 0:e.filter(e=>e.name.toLowerCase().startsWith(this.search.toLowerCase()))}},created(){this.initilize()},methods:{async initilize(){try{Object.keys(this.selectedCollection).length&&this.$store.commit("SET_SELECT_COLLECTION_SELECTED",this.selectedCollection),this.modal=!0,this.$emit("update:openCollectionSelectorModal",this.modal),this.isLoading=!0,this.disableCollectionFetch||await this.$store.dispatch("getCollections")}finally{this.isLoading=!1}},clearSearchHandler(){this.search=""},selectCollection(){this.$emit("update:selectedCollection",this.selectCollectionSelected),this.$emit("selectedCollectionId",this.selectCollectionSelected.id),this.$emit("collectionUpdated"),this.modal=!1},async getCollection(){this.isLoading=!0,await this.$store.dispatch("getCollections"),this.isLoading=!1}},watch:{selectCollectionSelected:{immediate:!0,deep:!0,handler(e){var t;null!==(t=Object.keys(e))&&void 0!==t&&t.length&&(this.$emit("update:selectedCollection",e),this.$emit("selectedCollectionId",e.id))}},modal:{immediate:!0,handler(e){e||this.$emit("update:openCollectionSelectorModal",e)}}}},n=c,a=(l("47ee"),l("2877")),r=Object(a["a"])(n,o,i,!1,null,null,null);t["default"]=r.exports}}]);