(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22d252"],{f5f3:function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t._self._c;return t.modal?e("ModalContainer",t._b({staticClass:"share-form share-users-form",attrs:{modal:t.modal},on:{update:function(e){t.formData={}},submit:t.submit,"update:modal":function(e){t.modal=e}}},"ModalContainer",{modalData:t.modalData,isButtonDisable:t.isButtonDisable,isButtonLoading:t.isButtonLoading},!1),[e("template",{slot:"body"},[e("div",{staticClass:"share-form__collection-title-container"},[e("span",{staticClass:"share-form__collection-icon",domProps:{innerHTML:t._s(t.collection.icon)}}),e("span",{staticClass:"share-form__collection-title"},[t._v(t._s(t.collection.name))]),e("span",{staticClass:"share-form__selected-count"},[t._v("("+t._s(t.selectedUsers.length||0)+")")])]),e("DropdownSelect",t._b({on:{change:function(e){t.selectedUsers=[...e||[]]}}},"DropdownSelect",{dropdownData:t.dropdownData,collection:t.collection,type:"userShare"},!1))],1)],2):t._e()},a=[];function i(){return{modal:!1,isButtonLoading:!1,formData:{},modalData:{title:"Share with users",icon:"shareWithUser"},collection:{},selectedUsers:[],dropdownData:{id:"userID",title:"first_Name",name:"Users",url:"/user/search?user=",currentOptionUrl:"/share/get-shared-users/",component:"UserShareFormDropdownUi"}}}var n={components:{DropdownSelect:()=>s.e("chunk-0a0f0ec4").then(s.bind(null,"cd58"))},data:()=>i(),computed:{isButtonDisable(){return this.isButtonLoading}},mounted(){this.$bus.$on("open-user-share-form",t=>{this.initialize(t)})},methods:{async initialize(t){Object.assign(this.$data,i()),this.collection=t.collection,this.modal=!0},async submit(){try{this.isButtonLoading=!0;let t=await this.$axios.post("/share/ShareToUsers/"+this.collection.id,JSON.stringify(this.selectedUsers));this.$collectionHelper.mapCollection({collection:t.data,type:"update",componentData:this.$collectionHelper.getNavItemComponentData(this.collection)}),this.$bus.$emit("open-toaster","User share updated successfully","success"),this.modal=!1}catch{this.$bus.$emit("open-toaster","Error sharing with users","error")}finally{this.resetLoaders(),this.isButtonLoading=!1}},resetLoaders(){this.isButtonLoading=!1}},beforeDestroy(){this.$bus.$off("open-user-share-form")}},r=n,l=s("2877"),c=Object(l["a"])(r,o,a,!1,null,null,null);e["default"]=c.exports}}]);