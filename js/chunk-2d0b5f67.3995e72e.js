(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b5f67"],{"1aab":function(o,t,n){"use strict";n.r(t);var a=function(){var o=this,t=o._self._c;return o.modal?t("ModalContainer",o._b({staticClass:"share-form group-share-form",attrs:{modal:o.modal},on:{update:function(t){o.formData={}},submit:o.submit,"update:modal":function(t){o.modal=t}}},"ModalContainer",{modalData:o.modalData,isButtonDisable:o.isButtonDisable,isButtonLoading:o.isButtonLoading},!1),[t("template",{slot:"body"},[t("div",{staticClass:"share-form__collection-title-container"},[t("span",{staticClass:"share-form__collection-icon",domProps:{innerHTML:o._s(o.collection.icon)}}),t("span",{staticClass:"share-form__collection-title"},[o._v(o._s(o.collection.name))]),t("span",{staticClass:"share-form__selected-count"},[o._v("("+o._s(o.selectedGroupsId.length||0)+")")])]),t("DropdownSelect",o._b({on:{change:function(t){o.selectedGroupsId=[...t||[]]}}},"DropdownSelect",{dropdownData:o.dropdownData,collection:o.collection},!1))],1)],2):o._e()},e=[];function s(){return{modal:!1,formData:{},collection:{},componentData:{},modalData:{title:"Share With Groups",icon:"groupCommunication"},selectedGroupsId:[],isButtonLoading:!1,dropdownData:{id:"groupId",title:"groupName",name:"Groups",url:"/group/search?group=",currentOptionUrl:"/group/GetSharedGroups/",component:"GroupShareFormDropdownUi"}}}var i={components:{DropdownSelect:()=>n.e("chunk-0a0f0ec4").then(n.bind(null,"cd58"))},data:()=>s(),computed:{isButtonDisable(){return this.isButtonLoading}},mounted(){this.$bus.$on("open-group-share-form",o=>{this.initialize(o)})},methods:{async initialize(o){Object.assign(this.$data,s()),this.modal=!0,this.mapEventData(o)},closeModal(){this.isButtonLoading||(this.modal=!1)},mapEventData({collection:o={},componentData:t={}}){this.collection={...o},this.componentData={...t}},async submit(){try{var o,t;this.isButtonLoading=!0;let n=await this.$axios.post("/group/ShareCategoryToGroups/"+(null===(o=this.collection)||void 0===o?void 0:o.id),JSON.stringify(this.selectedGroupsId));this.$collectionHelper.mapCollection({collection:n.data,componentData:this.componentData,type:"update"}),this.$bus.$emit("open-toaster",`Collection <strong>${this.collection.name}</strong> added to Group${(null===(t=this.selectedGroupsId)||void 0===t?void 0:t.length)>1?"s":""}`,"success"),this.isButtonLoading=!1,this.closeModal()}catch(a){var n;this.$bus.$emit("open-toaster",`Error adding collection <strong>${this.collection.name}</strong> to Group${(null===(n=this.selectedGroupsId)||void 0===n?void 0:n.length)>1?"s":""}`,"success")}finally{this.isButtonLoading=!1}}}},l=i,c=n("2877"),r=Object(c["a"])(l,a,e,!1,null,null,null);t["default"]=r.exports}}]);