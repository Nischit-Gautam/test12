(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-200cc930"],{"81fd":function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"multiple-select-actions mt-1"},[t("div",{staticClass:"d-flex align-items-center"},[!("hideMoveButton"in e.componentData)&&e.$permissionHelper.checkPermission({permissionName:"bookmarkMultipleMove",collection:e.selectedCollection})?[e.showMoveToCollectionButton?t("div",{staticClass:"d-flex web-form__selected-collection mutiselect-move-collection cursor-pointer",on:{click:function(t){e.openCollectionSelectorModal=!0}}},[t("div",{staticClass:"collection-selector__collections__item__icon",domProps:{innerHTML:e._s(e.currentSelectedCollection.icon||e.$internalIcons.folder)}}),t("div",{staticClass:"collection-selector__collections__item__name"},[e._v(" "+e._s(e.currentSelectedCollection.name||"Select a collection")+" ")])]):e._e(),e.showMoveToCollectionButton?t("button",{staticClass:"btn-control md sq icon light",attrs:{disabled:!e.currentSelectedCollectionId},on:{click:function(t){return e.bulkAction("move")}}},[t("span",{domProps:{innerHTML:e._s(e.$internalIcons.checkmark)}})]):e._e(),e.showMoveToCollectionButton?t("button",{staticClass:"btn-control md sq icon light ml-0",on:{click:function(t){return e.toggleMoveToCollectionAction()}}},[t("span",{staticClass:"rotate-icon-45-deg",domProps:{innerHTML:e._s(e.$internalIcons.plusBold)}})]):e._e(),e.showMoveToCollectionButton?e._e():t("button",{staticClass:"btn-control md light",on:{click:function(t){return e.toggleMoveToCollectionAction()}}},[t("span",{domProps:{innerHTML:e._s(e.$internalIcons.move)}}),t("span",[e._v("Move")])])]:e._e(),"hideCopyButton"in e.componentData?e._e():t("button",{staticClass:"btn-control md light",on:{click:function(t){return e.$bus.$emit("copy-bookmark",e.selectedBookmarks)}}},[t("span",{domProps:{innerHTML:e._s(e.$internalIcons.copy)}}),t("span",[e._v("Copy")])]),"showRestoreButton"in e.componentData?t("button",{staticClass:"btn-control md light",on:{click:function(t){return e.bulkAction("restore")}}},[t("span",{domProps:{innerHTML:e._s(e.$internalIcons.restore)}}),t("span",[e._v("Restore")])]):e._e(),!("showRestoreButton"in e.componentData)&&e.$permissionHelper.checkPermission({permissionName:"bookmarkMultipleRemove",collection:e.selectedCollection})?t("button",{staticClass:"btn-control md light",on:{click:function(t){return e.bulkAction("delete")}}},[t("span",{domProps:{innerHTML:e._s(e.$internalIcons.trash)}}),t("span",[e._v("Remove")])]):e._e(),"showHardDeleteButton"in e.componentData?t("button",{staticClass:"btn-control md light",on:{click:function(t){return e.bulkAction("hardDelete")}}},[t("span",{domProps:{innerHTML:e._s(e.$internalIcons.trash)}}),t("span",[e._v("Remove")])]):e._e()],2),e.openCollectionSelectorModal?t("TmfCollectionSelector",{attrs:{selectedCollection:e.currentSelectedCollection,disableCollectionFetch:!0,openCollectionSelectorModal:e.openCollectionSelectorModal},on:{"update:selectedCollection":function(t){e.currentSelectedCollection=t},"update:selected-collection":function(t){e.currentSelectedCollection=t},selectedCollectionId:e.currentSelectedCollectionIdHandler,"update:openCollectionSelectorModal":function(t){e.openCollectionSelectorModal=t},"update:open-collection-selector-modal":function(t){e.openCollectionSelectorModal=t}}}):e._e()],1)},l=[],c=o("2f62"),i=o("ff46"),s={mixins:[i["a"]],props:{componentData:{type:Object,required:!1,default:()=>({})},parentcomponentData:{type:Object,required:!1,default:()=>({})},selectedBookmarks:{type:Array,required:!0}},components:{TmfCollectionSelector:()=>o.e("chunk-1af45181").then(o.bind(null,"dd87"))},data(){return{showMoveToCollectionButton:!1,currentSelectedCollectionId:null,currentSelectedCollection:{},openCollectionSelectorModal:!1}},computed:{...Object(c["b"])(["collections","selectedCollection"]),filteredCollection(){return this.collections.map(e=>(e.isOpen=!1,e))}},methods:{currentSelectedCollectionIdHandler(e){this.currentSelectedCollectionId=e},toggleMoveToCollectionAction(){this.showMoveToCollectionButton=!this.showMoveToCollectionButton},bulkAction(e){this.$bus.$emit("dialog-open",`Do you want to ${"hardDelete"===e?"permanently delete":e} selected Links?`),this.$bus.$on("dialog-success",t=>{t&&this.bulkActionApi(e),this.$bus.$off("dialog-success")})},async bulkActionApi(e){try{var t;let o="move"===e?this.currentSelectedCollectionId:0,n=(null===(t=this.selectedBookmarks)||void 0===t?void 0:t.length)>1;if("move"===e)await this.moveCopy({type:e,collection:this.currentSelectedCollection,collectionId:o,isMultiple:n,data:this.selectedBookmarks,draggedFrom:this.selectedCollection});else{this.$bus.$emit("open-toaster",""+(["delete","hardDelete"].includes(e)?"Removing Links...":"Restoring Links..."),"loader"),await this.$axios.post(`/bookmark/${o}/${e}/BulkAction`,JSON.stringify(this.selectedBookmarks)),await this.$store.dispatch("getCollections"),"allBookmarks"!==this.parentcomponentData.type&&this.$helper.setState("deleteMultiple",this.parentcomponentData.actions.mutation,this.parentcomponentData.actions.getter,this.selectedBookmarks,null,this.parentcomponentData.actions.mutationImage,this.parentcomponentData.actions.getterImage),"delete"===e&&this.$helper.setState("addMultiple","SET_TRASHED_BOOKMARKS","trashedBookmarks",this.selectedBookmarks,null,"SET_TRASHED_BOOKMARKS_IMAGES","trashedBookmarksImages");let t="delete"===e?"moved to trash":"restored from trash";"hardDelete"===e&&(t="deleted permanently"),this.$bus.$emit("open-toaster",`<b>${this.selectedBookmarks.length}</b> links ${t}.`,"success")}this.$emit("resetSelectedBookmarks")}catch(o){this.$bus.$emit("open-toaster","Error moving links","error")}finally{this.currentSelectedCollectionId=null,this.showMoveToCollectionButton=!1}}}},r=s,a=(o("8c72"),o("2877")),d=Object(a["a"])(r,n,l,!1,null,null,null);t["default"]=d.exports},"8c72":function(e,t,o){"use strict";o("aa15")},aa15:function(e,t,o){}}]);