(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e5392"],{9423:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"all-bookmarks mb-2"},[e.bookmarks.length||e.linkPageLimit?t("bookmark-items",e._b({},"bookmark-items",{bookmarks:e.bookmarks,componentData:e.componentData,bookmarksImagesOnly:e.bookmarksImagesOnly,isLoading:e.isLoading},!1)):e._e(),e.allListLoading?t("div",{staticClass:"d-flex w-100",style:{"margin-top":e.page>1?"-.9rem":""},attrs:{id:"LinkscrollLoaderUserSharedCollection"}},[t("bookmark-loader",{staticClass:"w-100",attrs:{loaderCount:3}})],1):e._e()],1)},i=[],s=o("2f62"),r={components:{BookmarkItems:()=>o.e("chunk-7b759355").then(o.bind(null,"d8a7")),BookmarkLoader:()=>o.e("chunk-2d228d20").then(o.bind(null,"db8d"))},data(){return{showOutlookEmailLinks:!1,selectAllBookmark:!1,cardView:"list",isLoading:!1,allListLoading:!0,onscrollLoader:!0,linkPageLimit:!1,page:1,componentData:{},fetchingData:!1}},computed:{...Object(s["b"])({bookmarks:"collectionBookmarks",bookmarksImagesOnly:"collectionBookmarksImages"})},mounted(){this.$bus.$on("reset-user-shared-bookmarks",()=>{this.$store.commit("SET_COLLECTION_BOOKMARKS",[]),this.page=1,this.allListLoading=!0,this.getUserSharedBookmarks(),this.initializeInterceptor()})},methods:{async getUserSharedBookmarks(){if(!this.fetchingData){this.fetchingData=!0,this.allListLoading=!0,this.onscrollLoader=!0;try{let e=await this.$store.dispatch("getCollectionBookmarks",{collectionId:this.$route.params.collectionId,type:"teamShared",page:this.page});this.$store.dispatch("getCollectionBookmarksImages",{collectionId:this.$route.params.collectionId,type:"teamShared",page:this.page}),e.length>0?(this.page++,this.onscrollLoader=!1,e.length<10&&this.initializeInterceptor()):(this.linkPageLimit=!0,this.allListLoading=!1)}catch(e){console.error("Error fetching data:",e)}finally{this.fetchingData=!1}}},initializeInterceptor(){let e={root:document.querySelector(".tmf-app"),threshold:.5},t=e=>{e.forEach(e=>{e.isIntersecting&&!this.linkPageLimit&&this.getUserSharedBookmarks()})},o=new IntersectionObserver(t,e),a=document.querySelector("#LinkscrollLoaderUserSharedCollection");a&&o.observe(a)}},watch:{"$store.getters.selectedCollection":{immediate:!0,deep:!0,handler(e){e&&(this.componentData=this.$bookmarkTypes.userSharedBookmarks,this.componentData.header.title=null===e||void 0===e?void 0:e.name)}},"$route.params.collectionId":{immediate:!0,async handler(e){e&&(this.page=1,this.linkPageLimit=!1,this.$store.commit("SET_COLLECTION_BOOKMARKS",[]),this.$store.commit("SET_COLLECTION_BOOKMARKS_IMAGES",[]),await this.getUserSharedBookmarks(),this.initializeInterceptor())}}},beforeDestroy(){this.$bus.$off("reset-user-shared-bookmarks")}},n=r,l=o("2877"),c=Object(l["a"])(n,a,i,!1,null,null,null);t["default"]=c.exports}}]);