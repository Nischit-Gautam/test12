(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-329ed38e"],{"12ad":function(t,o,e){"use strict";e("14d9");var n=e("2f62");o["a"]={computed:{...Object(n["b"])(["settings","extensionId"])},methods:{async pinCollection({collection:t,componentData:o}){let e={...t,isPinned:!t.isPinned};try{this.$bus.$emit("open-toaster",`${e.isPinned?"pinning":"unpinning"} collection <strong>${t.name}</strong>`,"loader"),this.$store.commit("SET_LOADING_COLLECTIONS",{payload:t.id,type:"add"}),await this.$axios.put("/category/"+t.id,e),this.$collectionHelper.mapCollection({collection:e,componentData:o,type:"update"}),this.$store.commit("SET_LOADING_COLLECTIONS",{payload:t.id,type:"remove"}),this.$bus.$emit("open-toaster",`Collection <strong>${t.name}</strong> is ${e.isPinned?"pinned":"unpinned"}`,"success")}catch{this.$bus.$emit("open-toaster",`Error ${e.isPinned?"pinning":"unpinning"} collection <strong>${t.name}</strong>`,"error")}},editCollection({collection:t,componentData:o}){this.$bus.$emit("open-collection-form",{collection:t,componentData:o,isEditCollection:!0})},addChildCollection({collection:t,componentData:o}){this.$bus.$emit("open-collection-form",{collection:t,componentData:o,isAddChildCollection:!0})},async trashCollection({collection:t,componentData:o}){var e,n,i;if(this.$bus.$emit("open-toaster","Checking collection","loader"),await this.$store.dispatch("getSettings"),this.$bus.$emit("open-toaster"),null!==(e=[null===(n=this.settings)||void 0===n?void 0:n.defaultChromeCategory,null===(i=this.settings)||void 0===i?void 0:i.defaultBrowserSession])&&void 0!==e&&e.includes(null===t||void 0===t?void 0:t.id)){var l;let o=(null===(l=this.settings)||void 0===l?void 0:l.defaultChromeCategory)===(null===t||void 0===t?void 0:t.id)?"Default Collection":"Extension Default Collection";this.$bus.$emit("dialog-open",`<b>${t.name}</b> is set as a <b style="color: red">${o}</b> in settings. <br/> Change the ${o} to remove it.\n        `,"ok")}else null===t.parentID?this.$bus.$emit("dialog-open",`Do you want to remove <b>${t.name}</b> Collection ?`):this.$bus.$emit("dialog-open",`Do you want to remove <b>${t.name}</b> Collection <strong style="color: red"> permanently</strong>?`),this.$bus.$on("dialog-success",e=>{e&&this.trashCollectionApi({collection:t,componentData:o}),this.$bus.$off("dialog-success")})},async trashCollectionApi({collection:t,componentData:o}){try{this.$bus.$emit("open-toaster",`Moving collection <strong>${t.name}</strong> to trash.`,"loader"),t.isDeleted=!0;let e={};await this.$axios.put("/category/"+t.id,t).then(async t=>{e=t,await this.$store.dispatch("getDeletedCollection")}),this.$collectionHelper.ifSelectedCollectionIsChildOfDeletedCollection({collection:t})&&this.$router.push(`${this.$route.matched[0].path}/trashed/${t.id}`),this.$collectionHelper.mapCollection({collection:e.data,componentData:o,type:"trash"}),this.$bus.$emit("open-toaster",`<b>${t.name}</b> collection is moved to trash.`,"success"),this.$route.params.collectionId==t.id&&(this.$store.commit("SET_SELECTED_COLLECTION",{...e.data}),this.$router.push(`${this.$route.matched[0].path}/trashed/${t.id}`))}catch(e){this.$bus.$emit("open-toaster",`Error moving <b>${t.name}</b> collection to trash.`,"error")}},async restoreCollection({collection:t,componentData:o}){this.$bus.$emit("dialog-open",`Do you want to restore <b>${t.name}</b> Collection ?`),this.$bus.$on("dialog-success",e=>{e&&this.restoreCollectionApi({collection:t,componentData:o}),this.$bus.$off("dialog-success")})},async restoreCollectionApi({collection:t}){try{var o;this.$bus.$emit("open-toaster",`Restoring collection <strong>${t.name}</strong> from trash.`,"loader"),t.isDeleted=!1;let n={},i=null;await this.$axios.put("/category/"+t.id,t).then(async t=>{var o;n=t,i=(null===(o=t.data)||void 0===o||null===(o=o.sharedTeams)||void 0===o||null===(o=o.filter(t=>null!==t.shareWithID))||void 0===o||null===(o=o[0])||void 0===o||null===(o=o.sharedTeams)||void 0===o?void 0:o.shareWithID)||null,await this.$store.dispatch("getDeletedCollection")});let l=this.$collectionHelper.getNavItemComponentData(n.data);var e;if(null===(null===(o=n.data)||void 0===o?void 0:o.parentID))this.$collectionHelper.mapCollection({collection:n.data,componentData:l,type:"addNewCollection"});else await this.$axios.get("/category/"+(null===(e=n.data)||void 0===e?void 0:e.parentID)).then(async t=>{await this.$collectionHelper.mapCollection({collection:t.data,componentData:l,type:"addChildCollection",childCollections:n.data})});if(this.$bus.$emit("open-toaster",`<b>${t.name}</b> collection is restored from trash.`,"success"),this.$route.params.collectionId==t.id){this.$store.commit("SET_SELECTED_COLLECTION",{...n.data});let o=""+this.$route.matched[0].path,e=(null===l||void 0===l?void 0:l.route)||"",s=`${o}/${e}${i?i+"/":""}${t.id}`;this.$router.push(s)}}catch(n){this.$bus.$emit("open-toaster",`Error  restoring <b>${t.name}</b> collection from trash.`,"error")}},async deleteCollection({collection:t,componentData:o}){this.$bus.$emit("dialog-open",`Do you want to permanently delete <b>${t.name}</b> Collection ? <br>\n        <small class="mt-2 d-block">Note: Deleting this collection will delete all the links inside this collection.</small>\n        `),this.$bus.$on("dialog-success",e=>{e&&this.deleteCollectionApi({collection:t,componentData:o}),this.$bus.$off("dialog-success")})},async deleteCollectionApi({collection:t}){try{this.$bus.$emit("open-toaster",`Removing collection <strong>${t.name}</strong>..`,"loader"),await this.$axios.delete("/category/"+t.id).then(async()=>{await this.$store.dispatch("getDeletedCollection")}),this.$bus.$emit("open-toaster",`<strong>${t.name}</strong> collection deleted.`,"success"),this.$route.params.collectionId==t.id&&this.$router.push(this.$route.matched[0].path+"/all")}catch(o){this.$bus.$emit("open-toaster",`Error removing collection <strong>${t.name}</strong>`,"error")}},async restoreLinksToTabs({collection:t,type:o="current"}){if(!this.extensionId)return;let e=`/Bookmark/${t.id}/getBookmarks${t.sharedTeams.length>0&&t.sharedTeams.some(t=>t.isPublic)?"?isPublic=true":t.sharedTeams.length>0&&t.sharedTeams.some(t=>t.isSharedWithTeams)?"?isShared=true":""}`,n=await this.$axios.get(e),i=[];n.data.forEach(t=>{i.push(t.path)}),"private"===o?i.forEach(t=>{window.chrome.windows.create({url:t,incognito:!0})}):i.forEach(t=>{window.chrome.tabs.create({url:t,active:!0})})},async importFromFile({collection:t,componentData:o}){this.$bus.$emit("open-collection-form",{collection:t,componentData:o,isUploadFile:!0})}}}},2516:function(t,o,e){"use strict";e("2eef")},"2eef":function(t,o,e){},"98d5":function(t,o,e){"use strict";e.r(o);var n=function(){var t=this,o=t._self._c;return o("div",{staticClass:"tmf-nav-collection__item__action d-flex align-items-center flex-row"},[o("div",{staticClass:"tmf-nav-collection__item__action__bookmark-count d-flex align-items-center justify-content-center"},[t.bookmarkCount?o("span",{directives:[{name:"tmf-tooltip",rawName:"v-tmf-tooltip",value:{content:"Links count"},expression:"{ content: 'Links count' }"}],staticClass:"count"},[t._v(t._s(t.bookmarkCount))]):t._e()]),t.actions.length>0?o("div",{staticClass:"tmf-nav-collection__item__action__wrapper d-flex align-items-center flex-row"},[t.actions.includes("addChildCollection")&&t.childIndex<5?o("button",{directives:[{name:"tmf-tooltip",rawName:"v-tmf-tooltip",value:{content:"Add Child Collection"},expression:"{ content: 'Add Child Collection' }"}],staticClass:"btn-control sq icon sm green lg-icon",on:{click:function(o){return t.addChildCollection({collection:t.collection,componentData:t.componentData})}}},[o("span",{domProps:{innerHTML:t._s(t.$internalIcons.addFolder)}})]):t._e(),t.actions.includes("edit")?o("button",{directives:[{name:"tmf-tooltip",rawName:"v-tmf-tooltip",value:{content:"Edit Collection"},expression:"{ content: 'Edit Collection' }"}],staticClass:"btn-control sq icon sm no-border lg-icon",on:{click:function(o){return t.editCollection({collection:t.collection,componentData:t.componentData})}}},[o("span",{domProps:{innerHTML:t._s(t.$internalIcons.pencil)}})]):t._e(),t.actions.includes("trash")?o("button",{directives:[{name:"tmf-tooltip",rawName:"v-tmf-tooltip",value:{content:"Trash Collection"},expression:"{ content: 'Trash Collection' }"}],staticClass:"btn-control sq icon sm no-border lg-icon",on:{click:function(o){return t.trashCollection({collection:t.collection,componentData:t.componentData})}}},[o("span",{domProps:{innerHTML:t._s(t.$internalIcons.trash)}})]):t._e(),t.actions.includes("restore")&&t.$collectionHelper.isDeleted(t.collection)?o("button",{directives:[{name:"tmf-tooltip",rawName:"v-tmf-tooltip",value:{content:"Restore Collection"},expression:"{ content: 'Restore Collection' }"}],staticClass:"btn-control sq icon sm no-border lg-icon",on:{click:function(o){return t.restoreCollection({collection:t.collection,componentData:t.componentData})}}},[o("span",{domProps:{innerHTML:t._s(t.$internalIcons.untrash)}})]):t._e(),t.actions.includes("delete")&&t.$collectionHelper.isDeleted(t.collection)?o("button",{directives:[{name:"tmf-tooltip",rawName:"v-tmf-tooltip",value:{content:"Delete Collection"},expression:"{ content: 'Delete Collection' }"}],staticClass:"btn-control sq icon red sm no-border lg-icon",on:{click:function(o){return t.deleteCollection({collection:t.collection,componentData:t.componentData})}}},[o("span",{domProps:{innerHTML:t._s(t.$internalIcons.removeTrash)}})]):t._e()]):t._e()])},i=[],l={privateCollection:["addChildCollection","shareWithTeams","edit","trash"],publicCollection:[],adminPublicCollection:["addChildCollection","edit","trash"],teamsSharedCollection:[],modifiableTeamsSharedCollection:["addChildCollection","edit","trash"],userSharedCollection:[],modifiableUserSharedCollection:["addChildCollection","edit","trash"],trashedCollection:["restore","delete"],courtLinkCollection:[]},s=e("12ad"),c={mixins:[s["a"]],props:{collection:{type:Object,required:!0},componentData:{type:Object,required:!0},childIndex:{type:Number,required:!0}},computed:{bookmarkCount(){var t;return(null===(t=this.collection)||void 0===t?void 0:t.bookmarkCount)||0},actions(){var t;return l[null===(t=this.componentData)||void 0===t?void 0:t.type]||[]}}},a=c,r=(e("2516"),e("2877")),d=Object(r["a"])(a,n,i,!1,null,null,null);o["default"]=d.exports}}]);