(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e4a65796"],{"8e75":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"tmf-click-outside",rawName:"v-tmf-click-outside",value:e.clickOutsideHandler,expression:"clickOutsideHandler"}],staticClass:"tmf-icons"},[t("div",{staticClass:"d-flex justify-content-between align-items-center mr-2 selected-icon-container",on:{click:e.openIcons}},[e.isImage?t("div",{staticClass:"image-wrapper selected-image-large mr-1"},[e.selectedIcon.value.includes("base")?t("img",{attrs:{src:e.selectedIcon.value,alt:"Link Icon"}}):!e.selectedIcon.value.includes("base")&&e.selectedIcon.value.includes("/img")?t("img",{attrs:{src:"/img/32X32.png",alt:"Link Icon"}}):t("img",{attrs:{src:"data:image;base64,"+e.selectedIcon.value,alt:"Link Icon"}})]):t("span",{staticClass:"selected-icon-large mr-1",domProps:{innerHTML:e._s(e.selectedIcon.value)}}),t("span",{staticClass:"icon-down",domProps:{innerHTML:e._s(e.$internalIcons.down)}})]),e.showIcons?t("div",{directives:[{name:"tmf-popup-position",rawName:"v-tmf-popup-position",value:{position:e.position},expression:"{ position }"}],staticClass:"icons-list-container"},[t("div",{staticClass:"d-flex align-items-center justify-content-between icons-search-container"},[t("TmfInput",{staticClass:"m-0 flex-grow-1 w-100 search-all-bookmarks__input tmf-input__only-input",attrs:{value:e.search,formAttributes:{type:"text",autocomplete:"off",autofill:"off",placeholder:"Search icons",name:"search",disableName:!0}},on:{keypressEnter:e.searchIcon,"update:value":function(t){e.search=t}}},[t("template",{slot:"append"},[t("div",{staticClass:"clear-input"},[e.searchingIcon?t("span",[t("TmfSpinner",{staticClass:"small"})],1):t("span",{staticClass:"rotate-icon-45-deg",staticStyle:{"{'z-index'":"10}"},domProps:{innerHTML:e._s(e.$internalIcons.plusBold)},on:{click:e.clearSearchHandler}})])])],2)],1),t("div",{staticClass:"collection-icons__wrapper scroll-vertical scroll-overlay",attrs:{id:"iconsScrollLoader"}},[e.searchedIcons.length||e.searchingIcon?t("div",{staticClass:"collection-searched-icons collection-icons"},[t("div",{staticClass:"collection-searched-icons__header"},[e._v("Searched Icons :")]),t("div",{staticClass:"collection-icons"},e._l(e.searchedIcons,(function(i){return t("div",{directives:[{name:"tmf-tooltip",rawName:"v-tmf-tooltip",value:{content:e.capatitaizedString(i.name)},expression:"{ content: capatitaizedString(icon.name) }"}],key:i.id,staticClass:"icon d-flex justify-content-center align-items-center",class:e.isSelectedIcon(i)?"active-icon":"",on:{click:function(t){return e.changeIcon(i)}}},[t("div",{staticClass:"icon-wrapper d-flex flex-column align-items-center justify-content-center"},[e.svgIdentifierHandler(i.value)?t("span",{staticClass:"d-flex justify-content-center align-items-center",domProps:{innerHTML:e._s(i.value)}}):t("div",{staticClass:"image-wrapper"},[t("img",{attrs:{src:"data:image;base64,"+i.value,alt:"Link Icon"}})])])])})),0)]):e._e(),t("div",{staticClass:"collection-icons"},e._l(e.icons,(function(i,n){return t("div",{directives:[{name:"tmf-tooltip",rawName:"v-tmf-tooltip",value:{content:e.capatitaizedString(i.name)},expression:"{ content: capatitaizedString(icon.name) }"}],key:n,staticClass:"icon d-flex justify-content-center align-items-center",class:e.isSelectedIcon(i)?"active-icon":"",on:{click:function(t){return e.changeIcon(i)}}},[t("div",{staticClass:"icon-wrapper d-flex flex-column align-items-center justify-content-center"},[e.svgIdentifierHandler(i.value)?t("span",{staticClass:"d-flex justify-content-center align-items-center",domProps:{innerHTML:e._s(i.value)}}):t("div",{staticClass:"image-wrapper"},[i.value.includes("base")?t("img",{attrs:{src:i.value,alt:"Link Icon"}}):!i.value.includes("base")&&i.value.includes("/img")?t("img",{attrs:{src:"/img/32X32.png",alt:"Link Icon"}}):t("img",{attrs:{src:"data:image;base64,"+i.value,alt:"Link Icon"}})])])])})),0),t("div",{staticStyle:{height:"2px"},attrs:{id:"icons-interceptor"}}),e.isLoading?t("div",{staticClass:"d-flex align-items-center justify-content-center py-2"},[t("TmfSpinner")],1):e._e()])]):e._e()])},s=[],c=i("2f62"),a={props:{currentIcon:{type:Object,required:!1,default:()=>({})}},data(){return{selectedIcon:{},showIcons:!1,defaultIcon:{name:"folder",value:'<svg  viewBox="0 0 48 48"><path fill="#FFA000" d="M40,12H22l-4-4H8c-2.2,0-4,1.8-4,4v8h40v-4C44,13.8,42.2,12,40,12z"/><path fill="#FFCA28" d="M40,12H8c-2.2,0-4,1.8-4,4v20c0,2.2,1.8,4,4,4h32c2.2,0,4-1.8,4-4V16C44,13.8,42.2,12,40,12z"/></svg>'},isLoading:!1,iconsLimit:!1,searchedIcons:[],searchingIcon:!1,search:"",newIcon:{},position:{}}},computed:{...Object(c["b"])(["collectionIcons","collectionIconsPage"]),icons(){var e;let t=[...this.collectionIcons];return null!==(e=Object.keys(this.newIcon))&&void 0!==e&&e.length&&t.unshift(this.newIcon),Array.from(new Set(t.map(e=>e.value))).map(e=>t.find(t=>t.value===e))},isImage(){return!this.svgIdentifierHandler(this.selectedIcon.value)}},methods:{openIcons(e){let t=e.currentTarget;this.position=t.getBoundingClientRect(),this.position.menuPosition="bottom-left",this.position.maxHeight=370,this.showIcons=!this.showIcons},clearSearchHandler(){this.search=""},async searchIcon(e){e.stopPropagation(),e.preventDefault();const t=e.target.value;if(t.length)try{this.searchingIcon=!0,await this.$axios.get("/icon/search?query="+t).then(e=>{if(this.searchedIcons=[...e.data],this.searchedIcons.length){let e=document.getElementById("iconsScrollLoader");e.scrollTo({top:0,behavior:"smooth"})}})}finally{this.searchingIcon=!1}else this.searchedIcons=[]},isSelectedIcon(e){var t;return(null===(t=this.selectedIcon)||void 0===t?void 0:t.value)===(null===e||void 0===e?void 0:e.value)},clickOutsideHandler(){this.showIcons=!1},changeIcon(e){this.selectedIcon={...e},this.showIcons=!1,this.$emit("update:currentIcon",this.selectedIcon)},capatitaizedString(e){var t;return e?null===(t=(null===e||void 0===e?void 0:e.charAt(0).toUpperCase())+(null===e||void 0===e?void 0:e.substring(1)))||void 0===t||null===(t=t.split(/(?=[A-Z])/))||void 0===t?void 0:t.join(" "):e},getObjectIcon([...e],t){var i;return null===e||void 0===e||null===(i=e.filter(e=>(null===e||void 0===e?void 0:e.value)===t))||void 0===i?void 0:i[0]},svgIdentifierHandler(e){var t;return null===e||void 0===e||null===(t=e.trim())||void 0===t?void 0:t.startsWith("<svg")},initializeInterceptor(){this.$nextTick(()=>{let e={root:document.querySelector("#iconsScrollLoader"),threshold:.5},t=e=>{e.forEach(e=>{e.isIntersecting&&!this.iconsLimit&&this.getIcons()})},i=new IntersectionObserver(t,e),n=document.querySelector("#icons-interceptor");i.observe(n)})},async getIcons(){try{this.iconsLimit,this.isLoading=!0,await this.$store.dispatch("getCollectionIcons",this.collectionIconsPage).then(e=>{!(null!==e&&void 0!==e&&e.length)>0&&(this.iconsLimit=!0)})}finally{this.isLoading=!1}}},watch:{currentIcon:{immediate:!0,deep:!0,handler(e){var t,i;if(this.newIcon={},null!==e&&void 0!==e&&null!==(t=e.value)&&void 0!==t&&t.length){if(null!==e&&void 0!==e&&null!==(i=e.value)&&void 0!==i&&i.length){let t=this.collectionIcons.some(t=>t.value===e.value);this.selectedIcon=t?{...this.getObjectIcon(this.icons,e.value)}:{value:e.value},t||this.svgIdentifierHandler(null===e||void 0===e?void 0:e.value)||(this.newIcon={value:this.selectedIcon.value})}}else this.selectedIcon=this.defaultIcon,this.$emit("update:currentIcon",this.defaultIcon)}},showIcons:{immediate:!0,async handler(e){e&&this.initializeInterceptor()}}}},o=a,l=(i("e0ec"),i("2877")),r=Object(l["a"])(o,n,s,!1,null,null,null);t["default"]=r.exports},a15e:function(e,t,i){},e0ec:function(e,t,i){"use strict";i("a15e")}}]);